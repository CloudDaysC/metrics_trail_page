"0","knitr::opts_chunk$set(echo = TRUE)"
"0","library(GPStream)"
"0","library(sp)"
"0","library(leaflet)"
"0","library(tidyverse)"
"2","Registered S3 methods overwritten by 'dbplyr':
  method         from
  print.tbl_lazy     
  print.tbl_sql      
"
"2","[30m-- [1mAttaching packages[22m ------------------------------------------------------------------------------------------------------------- tidyverse 1.3.1 --[39m
"
"2","[30m[32mv[30m [34mggplot2[30m 3.3.5     [32mv[30m [34mpurrr  [30m 0.3.4
[32mv[30m [34mtibble [30m 3.1.5     [32mv[30m [34mdplyr  [30m 1.0.7
[32mv[30m [34mtidyr  [30m 1.1.4     [32mv[30m [34mstringr[30m 1.4.0
[32mv[30m [34mreadr  [30m 2.0.2     [32mv[30m [34mforcats[30m 0.5.1[39m
"
"2","package ‘tibble’ was built under R version 4.1.1"
"2","package ‘tidyr’ was built under R version 4.1.1"
"2","package ‘readr’ was built under R version 4.1.1"
"2","package ‘purrr’ was built under R version 4.1.1"
"2","package ‘dplyr’ was built under R version 4.1.1"
"2","package ‘stringr’ was built under R version 4.1.1"
"2","package ‘forcats’ was built under R version 4.1.1"
"2","[30m-- [1mConflicts[22m ---------------------------------------------------------------------------------------------------------------- tidyverse_conflicts() --
[31mx[30m [34mdplyr[30m::[32mfilter()[30m                 masks [34mstats[30m::filter()
[31mx[30m [34mdplyr[30m::[32mlag()[30m                    masks [34mstats[30m::lag()
[31mx[30m [34mgoogledrive[30m::[32mrequest_generate()[30m masks [34mgooglesheets4[30m::request_generate()
[31mx[30m [34mgoogledrive[30m::[32mrequest_make()[30m     masks [34mgooglesheets4[30m::request_make()[39m
"
"2","package ‘RColorBrewer’ was built under R version 4.1.1"
"0","ruta_strm <- "
"0","  read_stream(""cajon_del_mapocho.gpx"") %>% "
"0","  uniform_stream() %>% "
"0","  differential_stream() "
"0",""
"0",""
"0","ruta_sp <- SpatialPointsDataFrame(data=ruta_strm, "
"0","                                  proj4string=CRS(""+proj=longlat +datum=WGS84""))"
"0",""
"0",""
"0",""
"0","colores <- brewer.pal(n = 9, name = ""Paired"")"
"0",""
"0","tramo1 <- ruta_strm %>% filter(distance <= PCS[1]) "
"0","tramo2 <- ruta_strm %>% filter(distance > PCS[1] & distance <= PCS[2])"
"0","tramo3 <- ruta_strm %>% filter(distance > PCS[2] & distance <= PCS[3])"
"0","tramo4 <- ruta_strm %>% filter(distance > PCS[3] & distance <= PCS[4])"
"0","tramo5 <- ruta_strm %>% filter(distance > PCS[4] & distance <= PCS[5])"
"0","tramo6 <- ruta_strm %>% filter(distance > PCS[5] & distance <= PCS[6])"
"0","tramo7 <- ruta_strm %>% filter(distance > PCS[6] & distance <= PCS[7])"
"0","tramo8 <- ruta_strm %>% filter(distance > PCS[7] & distance <= PCS[8])"
"0","tramo9 <- ruta_strm %>% filter(distance > PCS[8] & distance <= PCS[9])"
"0",""
"0","tabla <- data.frame( ""Tramo"" = c(""Tramo 1"",""Tramo 2"",""Tramo 3"",""Tramo 4"",""Tramo 5"",""Tramo 6"",""Tramo 7"",""Tramo 8"",""Tramo 9"",""Total""),"
"0","                     ""Distancia"" = c(sum(tramo1$delta_distance),"
"0","                                     sum(tramo2$delta_distance),"
"0","                                     sum(tramo3$delta_distance),"
"0","                                     sum(tramo5$delta_distance),"
"0","                                     sum(tramo6$delta_distance),"
"0","                                     sum(tramo7$delta_distance),"
"0","                                     sum(tramo8$delta_distance),"
"0","                                     sum(tramo9$delta_distance),"
"0","                                     sum(ruta_strm$delta_distance)),"
"0","                      ""ElevGain"" =  c(sum(tramo1$dplus),"
"0","                                      sum(tramo5$dplus),"
"0","                                      sum(tramo6$dplus),"
"0","                                      sum(tramo7$dplus),"
"0","                                      sum(tramo8$dplus),"
"0","                                      sum(tramo9$dplus),"
"0","                                      sum(ruta_strm$dplus)))"
"0",""
"0","hitos <- data.frame(rbind(c(tramo1[1,c(""lon"",""lat"",""ele"")], ""Puente Ã‘ilhue""),"
"0","                          c(tramo4[1,c(""lon"",""lat"",""ele"")], ""La Parva""),"
"0","                          c(tramo5[1,c(""lon"",""lat"",""ele"")], ""Cancha de carreras""),"
"0","                          c(tramo6[1,c(""lon"",""lat"",""ele"")], ""Federacion""),"
"0","                          c(tramo7[1,c(""lon"",""lat"",""ele"")], ""Piedra numerada""),"
"0","                          c(tramo8[1,c(""lon"",""lat"",""ele"")], ""Refugio del Cepo""),"
"0","       "
"0","hitos$lat <- as.numeric(hitos$lat)"
"0","hitos$lon <- as.numeric(hitos$lon)"
"0",""
"0","hitossp <- SpatialPointsDataFrame(data=hitos, coords = hitos[,1:2], proj4string=CRS(""+proj=longlat +datum=WGS84""))"
"0",""
"0","tramo1sp <- tramo1 %>% select(lon,lat) %>% "
"0","  SpatialPointsDataFrame( data = ., coords = .,proj4string=CRS(""+proj=longlat +datum=WGS84""))"
"0","tramo2sp <- tramo2 %>% select(lon,lat) %>% "
"0","  SpatialPointsDataFrame( data = ., coords = .,proj4string=CRS(""+proj=longlat +datum=WGS84""))"
"0","tramo3sp <- tramo3 %>% select(lon,lat) %>% "
"0","  SpatialPointsDataFrame( data = ., coords = .,proj4string=CRS(""+proj=longlat +datum=WGS84""))"
"0","tramo4sp <- tramo4 %>% select(lon,lat) %>% "
"0","tramo5sp <- tramo5 %>% select(lon,lat) %>% "
"0","  SpatialPointsDataFrame( data = ., coords = .,proj4string=CRS(""+proj=longlat +datum=WGS84""))"
"0","tramo6sp <- tramo6 %>% select(lon,lat) %>% "
"0","  SpatialPointsDataFrame( data = ., coords = .,proj4string=CRS(""+proj=longlat +datum=WGS84""))"
"0","tramo7sp <- tramo7 %>% select(lon,lat) %>% "
"0","tramo8sp <- tramo8 %>% select(lon,lat) %>% "
"0","  SpatialPointsDataFrame( data = ., coords = .,proj4string=CRS(""+proj=longlat +datum=WGS84""))"
"0","tramo9sp <- tramo9 %>% select(lon,lat) %>% "
"0","  SpatialPointsDataFrame( data = ., coords = .,proj4string=CRS(""+proj=longlat +datum=WGS84""))"
"0",""
