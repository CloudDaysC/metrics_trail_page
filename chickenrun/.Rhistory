load("C:/Users/raimu/Dropbox/02.Research/2020.soccer_analytics/mundial_U20.RData")
librerias = c("jsonlite", "data.table", "plyr", "tidyverse")
if (length(setdiff(librerias, rownames(installed.packages()))) > 0)  ## instalo librerias si es necesario
install.packages(setdiff(librerias, rownames(installed.packages())))
ruta_1 <- readOGR("chicken love you.gpx","tracks") %>% coordinates() %>% data.frame()
library(rgdal)
library(sp)
library(leaflet)
library(raster)
library(plotKML)
library(elevatr)
source("C:/Users/raimu/Dropbox/Github/EnduranceSports/R/Derivatives.R")
ruta <- readOGR("chicken love you.gpx","tracks") %>% coordinates() %>% data.frame()
colnames(ruta) <- c("long", "lat")
rutasp <- SpatialPointsDataFrame(data=ruta, coords = ruta, proj4string=CRS("+proj=longlat +datum=WGS84"))
raster_map <- get_elev_raster(rutasp,zoom)
raster_map <- get_elev_raster(rutasp,14)
ruta$elev = extract(raster_map, rutasp)
ruta <- ruta %>% Derivatives()
ruta_comp <- ruta
ruta_comp$long <- round(ruta_comp$long,3)
ruta_comp$lat <- round(ruta_comp$lat,3)
ruta_comp <- unique(ruta_comp)
ruta_comp <- ruta_comp[ruta_comp$delta_distance  > quantile(ruta_comp$delta_distance, .2),]
ruta_comp <- ruta_comp[sample(1:nrow(ruta_comp),600,TRUE),]
rutasp <- SpatialPointsDataFrame(data=ruta_comp, coords = ruta_comp, proj4string=CRS("+proj=longlat +datum=WGS84"))
ruta <- readOGR("chicken love you.gpx","tracks") %>% coordinates() %>% data.frame()
ruta <- readOGR("chicken love you.gpx","tracks") %>% coordinates() %>% data.frame()
colnames(ruta) <- c("long", "lat")
rutasp <- SpatialPointsDataFrame(data=ruta, coords = ruta, proj4string=CRS("+proj=longlat +datum=WGS84"))
raster_map <- get_elev_raster(rutasp,14)
raster_map <- get_elev_raster(rutasp,14)
ruta$elev = extract(raster_map, rutasp)
rutasp <- SpatialPointsDataFrame(data=ruta, coords = ruta, proj4string=CRS("+proj=longlat +datum=WGS84"))
raster_map <- get_elev_raster(rutasp,14)
ruta$elev = extract(raster_map, rutasp)
ruta <- ruta %>% Derivatives()
rm(ruta_comp)
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(echo = TRUE)
library(rgdal)
library(sp)
library(leaflet)
library(raster)
library(plotKML)
library(elevatr)
source("C:/Users/raimu/Dropbox/Github/EnduranceSports/R/Derivatives.R")
raster_map <- readRDS("raster_DEM.RData")
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(echo = TRUE)
library(rgdal)
library(sp)
library(leaflet)
library(raster)
library(plotKML)
library(elevatr)
source("C:/Users/raimu/Dropbox/Github/EnduranceSports/R/Derivatives.R")
#raster_map <- readRDS("raster_DEM.RData")
#cargo cumbres
andes_azul <- read.table("andes_azul.csv", sep = ";", dec = ",")
ruta <- readOGR("chicken love you.gpx","tracks") %>% coordinates() %>% data.frame()
colnames(ruta) <- c("long", "lat")
rutasp <- SpatialPointsDataFrame(data=ruta, coords = ruta, proj4string=CRS("+proj=longlat +datum=WGS84"))
raster_map <- get_elev_raster(rutasp,14)
saveRDS(raster_map, "DEM_chicken.RData")
raster_map <- readRDS("DEM_chicken.RData")
ruta$elev = extract(raster_map, rutasp)
knitr::opts_chunk$set(echo = TRUE)
library(rgdal)
library(sp)
library(leaflet)
library(raster)
library(plotKML)
library(elevatr)
source("C:/Users/raimu/Dropbox/Github/EnduranceSports/R/Derivatives.R")
#cargo rutas
ruta <- readOGR("chicken love you.gpx","tracks") %>% coordinates() %>% data.frame()
colnames(ruta) <- c("long", "lat")
rutasp <- SpatialPointsDataFrame(data=ruta, coords = ruta, proj4string=CRS("+proj=longlat +datum=WGS84"))
raster_map <- readRDS("DEM_chicken.RData")
ruta$elev = extract(raster_map, rutasp)
ruta <- ruta %>% Derivatives()
## lee google doc con ranking de esfuerzos
data.frame("fecha" = "21-12-2020", "Atleta" = "Raimundo Sanchez", "Sentido" = "Antihorario", "Marca" = "04:02:34")
c(-33.413761, -70.492933 , "morro las papas")
rbind(c(-33.413761, -70.492933 , "morro las papas"),
c(-33.394399, -70.476445 , "base guayacan"),
c(-33.417753, -70.469653 , "portezuelo viscachas"),
c(-33.441812, -70.460842 , "salto de apoquindo"))
data.frame(rbind(c(-33.413761, -70.492933 , "morro las papas"),
c(-33.394399, -70.476445 , "base guayacan"),
c(-33.417753, -70.469653 , "portezuelo viscachas"),
c(-33.441812, -70.460842 , "salto de apoquindo")))
hitos <- data.frame(rbind(c(-33.413761, -70.492933 , "morro las papas"),
c(-33.394399, -70.476445 , "base guayacan"),
c(-33.417753, -70.469653 , "portezuelo viscachas"),
c(-33.441812, -70.460842 , "salto de apoquindo")))
View(ruta)
colnames(hitos) <- c("lat", "long", "Hito")
hitossp <- SpatialPointsDataFrame(data=hitos, coords = hitos[,2:1], proj4string=CRS("+proj=longlat +datum=WGS84"))
View(hitos)
hitos[,2:1]
hitos[,2:1]
hitos <- data.frame(rbind(list(-33.413761, -70.492933 , "morro las papas"),
list(-33.394399, -70.476445 , "base guayacan"),
list(-33.417753, -70.469653 , "portezuelo viscachas"),
list(-33.441812, -70.460842 , "salto de apoquindo")))
colnames(hitos) <- c("lat", "long", "Hito")
hitossp <- SpatialPointsDataFrame(data=hitos, coords = hitos[,2:1], proj4string=CRS("+proj=longlat +datum=WGS84"))
View(hitos)
str(hitos)
hitos[,2:1]
View(hitos)
View(ruta)
hitos <- data.frame(rbind(c(-33.413761, -70.492933 , "morro las papas"),
c(-33.394399, -70.476445 , "base guayacan"),
c(-33.417753, -70.469653 , "portezuelo viscachas"),
c(-33.441812, -70.460842 , "salto de apoquindo")))
colnames(hitos) <- c("lat", "long", "Hito")
hitos$lat
hitos$lat <- as.numeric(hitos$lat)
hitos <- data.frame(rbind(c(-33.413761, -70.492933 , "morro las papas"),
c(-33.394399, -70.476445 , "base guayacan"),
c(-33.417753, -70.469653 , "portezuelo viscachas"),
c(-33.441812, -70.460842 , "salto de apoquindo")))
colnames(hitos) <- c("lat", "long", "Hito")
hitos$lat <- as.numeric(hitos$lat)
hitos$long <- as.numeric(hitos$long)
hitossp <- SpatialPointsDataFrame(data=hitos, coords = hitos[,2:1], proj4string=CRS("+proj=longlat +datum=WGS84"))
? addCircleMarkers
leaflet() %>%
addTiles() %>%  # Add default OpenStreetMap map tiles
addProviderTiles(providers$OpenTopoMap) %>% ## uso mapa topografico
addCircleMarkers(data = rutasp, radius = 1, col = "red") %>%
addCircleMarkers(data = hitossp, radius = 2, col = "blue", popup = "Hito")
hitos <- data.frame(rbind(c(-33.417000, -70.505633, "Acceso Bulnes Correa"),
c(-33.413761, -70.492933 , "morro las papas"),
c(-33.394399, -70.476445 , "base guayacan"),
c(-33.417753, -70.469653 , "portezuelo viscachas"),
c(-33.441812, -70.460842 , "salto de apoquindo")))
colnames(hitos) <- c("lat", "long", "Hito")
hitos$lat <- as.numeric(hitos$lat)
hitos$long <- as.numeric(hitos$long)
hitossp <- SpatialPointsDataFrame(data=hitos, coords = hitos[,2:1], proj4string=CRS("+proj=longlat +datum=WGS84"))
```{r, echo=FALSE}
leaflet() %>%
addTiles() %>%  # Add default OpenStreetMap map tiles
addProviderTiles(providers$OpenTopoMap) %>% ## uso mapa topografico
addCircleMarkers(data = rutasp, radius = 1, col = "red") %>%
addCircleMarkers(data = hitossp, radius = 2, col = "blue", popup = "Hito")
leaflet() %>%
addTiles() %>%  # Add default OpenStreetMap map tiles
addProviderTiles(providers$OpenTopoMap) %>% ## uso mapa topografico
addCircleMarkers(data = rutasp, radius = 1, col = "red") %>%
addCircleMarkers(data = hitossp, radius = 2, col = "blue", popup = Hito)
leaflet() %>%
addTiles() %>%  # Add default OpenStreetMap map tiles
addProviderTiles(providers$OpenTopoMap) %>% ## uso mapa topografico
addCircleMarkers(data = rutasp, radius = 1, col = "red") %>%
addCircleMarkers(data = hitossp, radius = 2, col = "blue", popup = hitossp$Hito)
knitr::opts_chunk$set(echo = TRUE)
library(rgdal)
library(sp)
library(leaflet)
library(raster)
library(plotKML)
library(elevatr)
source("C:/Users/raimu/Dropbox/Github/EnduranceSports/R/Derivatives.R")
#cargo rutas
ruta <- readOGR("chicken love you.gpx","tracks") %>% coordinates() %>% data.frame()
colnames(ruta) <- c("long", "lat")
rutasp <- SpatialPointsDataFrame(data=ruta, coords = ruta, proj4string=CRS("+proj=longlat +datum=WGS84"))
raster_map <- readRDS("DEM_chicken.RData")
ruta$elev = extract(raster_map, rutasp)
ruta <- ruta %>% Derivatives()
hitos <- data.frame(rbind(c(-33.417000, -70.505633, "Acceso Bulnes Correa"),
c(-33.413761, -70.492933 , "Morro las papas"),
c(-33.394399, -70.476445 , "Base Morro GuayacÃ¡n"),
c(-33.417753, -70.469653 , "Portezuelo del Alto las Viscachas"),
c(-33.441812, -70.460842 , "Salto de Apoquindo")))
colnames(hitos) <- c("lat", "long", "Hito")
hitos$lat <- as.numeric(hitos$lat)
hitos$long <- as.numeric(hitos$long)
hitossp <- SpatialPointsDataFrame(data=hitos, coords = hitos[,2:1], proj4string=CRS("+proj=longlat +datum=WGS84"))
htmltools::img(src = knitr::image_uri(file.path(R.home("doc"), "html", "logoclu.png")),
style = 'position:absolute; top:0; right:0; padding:10px;')
file.path(R.home("doc"), "html", "logoclu.png")
? htmltools::img
htmltools::img(src = knitr::image_uri("logoclu.png"),
style = 'position:absolute; top:0; right:0; padding:10px;',
height = 100)
htmltools::img(src = knitr::image_uri("logoclu.png"),
style = 'position:absolute; top:0; center:0; padding:10px;',
height = 100)
htmltools::img(src = knitr::image_uri("logoclu.png"),
style = 'position:absolute; top:0; center:0; padding:15px;',
height = 100)
htmltools::img(src = knitr::image_uri("logoclu.png"),
style = 'position:absolute; top:0; center:0; padding:155px;',
height = 100)
htmltools::img(src = knitr::image_uri("logoclu.png"),
style = 'position:absolute; top:0; center:0; padding:10px;',
height = 100)
htmltools::img(src = knitr::image_uri("logoclu.png"),
style = 'position:absolute; top:0; left:0; padding:10px;',
height = 100)
htmltools::img(src = knitr::image_uri("logoclu.png"),
style = 'position:absolute; top:0; left:50; padding:10px;',
height = 100)
htmltools::img(src = knitr::image_uri("logoclu.png"),
style = 'position:absolute; top:0; left:150; padding:10px;',
height = 100)
htmltools::img(src = knitr::image_uri("logoclu.png"),
style = 'position:absolute; top:0; left:0; padding:10px;',
height = 100)
htmltools::img(src = knitr::image_uri("logo.png"),
style = 'position:absolute; top:0; rigth:0; padding:10px;',
height = 150)
library(rgdal)
library(sp)
library(leaflet)
library(raster)
library(raster)
library(plotKML)
library(elevatr)
source("C:/Users/raimu/Dropbox/Github/EnduranceSports/R/Derivatives.R")
#cargo rutas
ruta <- readOGR("chicken love you.gpx","tracks") %>% coordinates() %>% data.frame()
colnames(ruta) <- c("long", "lat")
rutasp <- SpatialPointsDataFrame(data=ruta, coords = ruta, proj4string=CRS("+proj=longlat +datum=WGS84"))
raster_map <- readRDS("DEM_chicken.RData")
ruta$elev = extract(raster_map, rutasp)
raster_map <- get_elevation_raste(rutasp,z=14) #readRDS("DEM_chicken.RData")
library(elevatr)
raster_map <- get_.elevation_raste(rutasp,z=14) #readRDS("DEM_chicken.RData")
raster_map <- get_elevation_raster(rutasp,z=14) #readRDS("DEM_chicken.RData")
raster_map <- get_elev_raster(rutasp,z=14) #readRDS("DEM_chicken.RData")
raster_map <- get_elev_raster(rutasp,z=14) #readRDS("DEM_chicken.RData")
raster_map <- get_elev_raster(rutasp,z=14) #readRDS("DEM_chicken.RData")
